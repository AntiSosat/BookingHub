<!DOCTYPE html>
<html lang="it">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>
  <link rel="stylesheet" href="dashboardStyle.css">
</head>

<body>
  <header>
    <div class="header">
      <h1>Pannello di controllo</h1>
      <div class="icons">
        <span class="icon" aria-label="Torna alla Home"><a href="../ShopForm/shop.html">🏠</a></span>
        <span class="icon" aria-label="Logout"><a href="../LoginForm/login-registration.html">🔓</a></span>
      </div>
    </div>
  </header>

  <main class="container two-columns">

    <div class="main-column">
      <section class="card">
        <div class="card-header card-primary">Informazioni Account</div>
        <div class="card-body" id="user-data"></div>
      </section>

      <section class="card cliente-only" id="stats-card" style="display: none;">
        <div class="card-header card-primary">Statistiche Ordini</div>
        <div class="card-body" id="order-stats">
          <p>📦 Ordini effettuati: <span id="stat-ordini">0</span></p>
          <p>📥 Prodotti acquistati: <span id="stat-prodotti">0</span></p>
          <p>💰 Totale speso: <span id="stat-speso">€0</span></p>
        </div>
      </section>

      <section class="card artigiano-only" style="display: none;">
        <div class="card-header card-success">Gestione Prodotti</div>
        <div class="card-body">
          <button id="add-product" class="btn btn-primary">➕ Aggiungi Prodotto</button>
          <button id="view-products" class="btn btn-secondary">🔍 Visualizza Prodotti</button>
          <button id="edit-products" class="btn btn-warning">✏️ Modifica Prodotti</button>
          <button id="delete-products" class="btn btn-danger">🗑️ Elimina Prodotti</button>
        </div>
      </section>
    </div>


    <div class="side-column">
      <section class="card cliente-only" style="display: none;">
        <div class="card-header card-info">Storico Ordini</div>
        <ul class="card-body" id="order-history"></ul>
      </section>

      <section class="card artigiano-only" style="display: none;">
        <div class="card-header card-secondary">Monitoraggio Vendite</div>
        <div class="card-body">
          <p>📦 Articoli pubblicati: <span id="cont-prodotti">0</span></p>
          <p>🛒 Ordini ricevuti: <span id="cont-ordini">0</span></p>
        </div>
      </section>
    </div>


    <div id="popup-prodotti" class="popup hidden">
      <div class="popup-content">
        <h2 id="popup-title">Gestione Prodotti</h2>
        <ul id="lista-prodotti"></ul>

        <div id="form-aggiungi" class="form-area hidden">
          <h3>Aggiungi nuovo prodotto</h3>
          <input type="text" id="nome-nuovo" placeholder="Nome prodotto" />
          <input type="number" id="prezzo-nuovo" placeholder="Prezzo prodotto" />
          <input type="number" id="disponibilita-nuovo" placeholder="Disponibilità" />
          <input type="text" id="descrizione-nuovo" placeholder="Descrizione" />
          <input type="text" id="categoria-nuovo" placeholder="Categoria" />
          <input type="file" id="immagine-nuovo" name="immagine" accept="image/*" placeholder="Immagine" />
          <button id="btn-salva-nuovo" class="btn btn-primary">Salva</button>
        </div>

        <div id="form-modifica" class="form-area hidden">
          <h3>Modifica prodotto</h3>
          <select id="select-modifica"></select>
          <input type="text" id="mod-nome" placeholder="Modifica il nome" />
          <input type="number" id="mod-prezzo" placeholder="Modifica il prezzo" />
          <input type="number" id="mod-disponibilita" placeholder="Modifica la disponibilità" />
          <input type="text" id="mod-descrizione" placeholder="Modifica la descrizione" />
          <input type="text" id="mod-categoria" placeholder="Modifica la categoria" />
          <input type="text" id="mod-immagine" placeholder="Modifica l'immagine" />
          <button id="btn-salva-modifica" class="btn btn-warning">Salva Modifica</button>
        </div>

        <div id="form-elimina" class="form-area hidden">
          <h3>Elimina prodotto</h3>
          <select id="select-elimina"></select>
          <button id="btn-conferma-elimina" class="btn btn-danger">Elimina</button>
        </div>

        <button id="popup-close" class="btn btn-secondary">Chiudi</button>
      </div>
    </div>
  </main>

  <script src="dashboard.js" defer></script>
</body>

</html>